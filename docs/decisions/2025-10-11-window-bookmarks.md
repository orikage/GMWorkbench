# 2025-10-11: ウィンドウブックマーク導入の指針

## 背景
- シナリオ内で頻繁に参照するページを素早く呼び出せる手段が求められていた。
- ページ履歴だけでは「重要ページの常備」と「戻りたい順番」のニーズを満たせなかった。

## 判断
- 各ウィンドウに専用ブックマークパネルを設け、登録上限を 50 件に制限して UI と永続化の負荷を抑える。
- 追加・削除は `workspace:window-bookmarks-change` で公開し、DOM 属性でも最新状態を参照できるようにする。
- キーボードショートカット（`b`）を追加して、マウス操作なしでも現在ページを記憶できるようにする。

## 選択肢と却下理由
- **グローバル共通のブックマークリスト**: ウィンドウ単位の用途が混ざってしまい、復元時の整合性が保ちづらい。
- **ページ履歴と同一スタックで管理**: 履歴は直近操作の追跡が目的であり、「お気に入りページ」を混在させると履歴を巻き戻した際に意図しない削除が発生する。

## テスト
- Vitest で追加・削除・複製・ショートカット操作を確認し、イベント・DOM 属性・永続化データが同期することを検証した。
