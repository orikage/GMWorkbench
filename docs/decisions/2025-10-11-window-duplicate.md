# 2025-10-11: ウィンドウ複製と操作設計

## 背景
- 同じ PDF を複数ページで参照したいケースが多く、再度ファイル選択する手間がテンポを下げていた。
- 永続化やズーム／ページ操作が揃ったことで、既存ウィンドウを基準に別窓を増やしたいニーズが顕在化した。

## 決定
- ウィンドウヘッダーに「複製」ボタンを常設し、現在のページ・ズーム・ピン留め状態を引き継いで新しい窓を生成する。
- 複製直後は元の位置から 24px ずらして配置し、手動でドラッグする前から重なり順が把握できるようにする。
- 操作結果を `workspace:window-duplicate` イベントで公開し、外部連携や計測が状態を受け取れるようにする。

## 選択肢と比較
- **取り込みキューから再度配置する**: ページやズームの再設定が必要で、参照テンポを落とすため不採用。
- **コンテキストメニューに複製を置く**: 隠れた操作となり、MVP の操作説明が複雑化するため採用を見送り。
- **ショートカットキーのみ用意する**: キーボード前提では気付かれにくいため、明示的なボタンを優先。

## 影響
- GM はワンクリックで参照窓を増やせるようになり、複窓レイアウト構築までの時間を短縮できる。
- 追加のイベントにより、永続化や将来の分析タスクで複製操作をトリガーとして扱いやすくなる。
- ウィンドウヘッダーにボタンが増えたため、スタイル指針を更新し、テストケースを追加して回帰を防止した。
