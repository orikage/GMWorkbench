# 2025-10-11: GitHub Pages を自動デプロイする方針

## 背景
- GitHub Pages で公開している本番サイトがソースの `index.html` をそのまま配信しており、Vite のビルド済みアセットが読み込まれず空白画面になっていた。
- これまで手動または暫定フローでデプロイしていたため、`dist/` を生成してアップロードする工程が自動化されていなかった。

## 決定
- `main` ブランチへの push と手動トリガーで発火する GitHub Actions ワークフローを追加し、`pnpm install` → `pnpm test` → `pnpm build` を順に実行したあと GitHub Pages へデプロイする。
- Pages 専用のアーティファクトを `actions/upload-pages-artifact` でアップロードし、`actions/deploy-pages` で公開までを完了させる。

## 選択肢と比較
- **`gh-pages` CLI で手動デプロイを継続する**: 開発者の手作業に依存しミスが再発するため採用しない。
- **ビルド成果物をリポジトリへコミットする**: `dist/` 管理が煩雑になり PR の差分が読みにくくなるため不採用。
- **別リポジトリへ成果物のみ push する**: 運用が複雑化し、Pages への公開が二段階になるため採用しない。

## 影響
- `main` へマージした変更は自動的にビルド・テストされ、常に最新のバンドルが本番サイトへ公開される。
- デプロイが CI に統合されたことで、空白画面の再発やビルド漏れに気付きやすくなった。
- README にフローを明記したため、新規参加者も公開手順を迷わず確認できる。
