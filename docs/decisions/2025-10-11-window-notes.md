# 2025-10-11 — ウィンドウメモ運用の指針

## 背景
GM がシナリオを裁く際、ウィンドウごとにアドリブや注意事項を残せる場所が求められた。外部アプリへ切り替えるとテンポが途切れるため、ワークスペース内で完結するメモ欄を追加する方針を検討した。

## 判断
- 各ウィンドウに常設のメモ欄を配置し、入力値を `workspace:window-notes-change` で通知する。
- メモ内容は IndexedDB に保存し、ページ・ズームなど既存の状態と同じスキーマで復元する。
- メモの存在を UI 外からも把握できるよう、`data-notes-length` 属性とイベント detail.notes を提供する。

## 代替案
- グローバルなノートエリアを別 UI として配置する案もあったが、ウィンドウ単位で参照する情報が異なるため却下した。
- Markdown やリッチテキスト入力は将来的な拡張余地として残し、現段階ではテキストエリアに絞る。

## 影響
- 永続化スキーマに `notes` 文字列を追加。
- テストとドキュメント、タスク追跡にメモ機能を反映。
- ウィンドウ複製イベント detail に `notes` を含めることで、複製直後の整合性を担保。
